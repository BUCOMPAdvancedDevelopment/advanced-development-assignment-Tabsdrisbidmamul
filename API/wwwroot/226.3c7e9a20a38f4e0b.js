"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[226],{4226:(Z,d,t)=>{t.r(d),t.d(d,{SignUpModule:()=>w});var m=t(3599),e=t(8256),u=t(6895),n=t(433),p=t(1973),c=t(6923),f=t(9763);function g(r,a){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"span",19),e._uU(3),e.qZA()()()),2&r){const o=e.oxw();e.xp6(3),e.Oqu(o.errorMsg)}}let h=(()=>{class r{constructor(o,s,i,l){this.document=o,this._authService=s,this._router=i,this._commonService=l,this.errorMsg="",this.error=!1,this.loader=!1,this.signupForm=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),displayName:new n.NI("",[n.kI.required]),username:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required,this.passwordValidator]),confirmPassword:new n.NI("",[n.kI.required])})}ngOnInit(){this.onChanges()}handleOnSubmit(){if(this.error)console.log("ERRORS form values ",this.signupForm.value);else{const{email:o,displayName:s,username:i,password:l}=this.signupForm.value;if(null!=s&&null!=o&&null!=l&&null!=i){this._commonService.loader$.next(!0);const y=new p.zL(s,o,l,i);this.loader=!0,this._authService.signup(y).subscribe({next:S=>{console.log(S),this.loader=!1,this._router.navigate([""])},error:()=>this._commonService.loader$.next(!1),complete:()=>this._commonService.loader$.next(!1)})}}}onChanges(){this.signupForm.valueChanges.subscribe(o=>{o.email.length>0?this.document.getElementById("label-email")?.classList.add("form__label-active"):this.document.getElementById("label-email")?.classList.remove("form__label-active"),o.password.length>0?this.document.getElementById("label-password")?.classList.add("form__label-active"):this.document.getElementById("label-password")?.classList.remove("form__label-active"),o.displayName.length>0?this.document.getElementById("label-displayname")?.classList.add("form__label-active"):this.document.getElementById("label-displayname")?.classList.remove("form__label-active"),o.username.length>0?this.document.getElementById("label-username")?.classList.add("form__label-active"):this.document.getElementById("label-username")?.classList.remove("form__label-active"),o.confirmPassword.length>0?this.document.getElementById("label-confirm-password")?.classList.add("form__label-active"):this.document.getElementById("label-confirm-password")?.classList.remove("form__label-active"),this.signupForm.dirty&&this.signupForm.controls.confirmPassword.touched&&this.signupForm.controls.password.touched&&o.password!==o.confirmPassword?(this.error=!0,this.errorMsg="Passwords do not match",this.signupForm.controls.password.setErrors({incorrect:!0}),this.signupForm.controls.confirmPassword.setErrors({incorrect:!0})):(this.error=!1,this.errorMsg="",this.signupForm.controls.password.setErrors(null),this.signupForm.controls.confirmPassword.setErrors(null))})}passwordValidator(){return o=>new RegExp(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{12,30}$/).test(o.value)?{forbiddenName:{error:"Password must be minimum 12 characters long, have at lease one number, one lowercase letter, one uppercase letter and one non-alphanumeric character"}}:null}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(u.K0),e.Y36(c.e),e.Y36(m.F0),e.Y36(f.v))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-signup-form"]],decls:36,vars:3,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"form__header"],[1,"row"],[1,"col-12"],[1,"form__group"],["type","email","id","email","formControlName","email","placeholder","Email","autocomplete","off",1,"form__input"],["id","label-email","for","email",1,"form__label"],["type","username","id","username","formControlName","username","placeholder","Username","autocomplete","off",1,"form__input"],["id","label-username","for","username",1,"form__label"],["type","displayname","id","displayname","formControlName","displayName","placeholder","Display name","autocomplete","off",1,"form__input"],["id","label-displayname","for","displayname",1,"form__label"],["type","password","id","password","formControlName","password","placeholder","Password","autocomplete","off",1,"form__input"],["id","label-password","for","password",1,"form__label"],[1,"form__note"],["type","password","id","confirm-password","formControlName","confirmPassword","placeholder","Confirm password","autocomplete","off",1,"form__input"],["id","label-confirm-password","for","confirm-password",1,"form__label"],["class","col-12",4,"ngIf"],[1,"form__group","w-100","d-flex","justify-content-end"],["type","submit",1,"form__submit-button","button","button-auth","w-100",3,"disabled"],[1,"form__note","form__note--error"]],template:function(o,s){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return s.handleOnSubmit()}),e.TgZ(1,"h2",1),e._uU(2,"Sign up"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"input",5),e.TgZ(7,"label",6),e._uU(8,"Email"),e.qZA()()(),e.TgZ(9,"div",3)(10,"div",4),e._UZ(11,"input",7),e.TgZ(12,"label",8),e._uU(13,"Username"),e.qZA()()(),e.TgZ(14,"div",3)(15,"div",4),e._UZ(16,"input",9),e.TgZ(17,"label",10),e._uU(18,"Display name"),e.qZA()()(),e.TgZ(19,"div",3)(20,"div",4),e._UZ(21,"input",11),e.TgZ(22,"label",12),e._uU(23,"Password"),e.qZA(),e.TgZ(24,"span",13),e._uU(25,"Password must be complex, it must contain at least one number, one uppercase letter, one lowercase letter, one non-alphanumeric character and be at least 12 characters long"),e.qZA()()(),e.TgZ(26,"div",3)(27,"div",4),e._UZ(28,"input",14),e.TgZ(29,"label",15),e._uU(30,"Confirm Password"),e.qZA()()(),e.YNc(31,g,4,1,"div",16),e.TgZ(32,"div",3)(33,"div",17)(34,"button",18),e._uU(35," Sign up "),e.qZA()()()()()),2&o&&(e.Q6J("formGroup",s.signupForm),e.xp6(31),e.Q6J("ngIf",s.error),e.xp6(3),e.Q6J("disabled",!s.signupForm.valid))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),r})();const _=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sign-up"]],decls:1,vars:0,template:function(o,s){1&o&&e._UZ(0,"app-signup-form")},dependencies:[h]}),r})()}];let v=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.Bz.forChild(_),m.Bz]}),r})();var b=t(7433);let w=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v,b.m]}),r})()}}]);